---
title: nyoj取球游戏
date: 2018-12-05 16:08:23
tags: 刷题
categories: 算法
---

时间限制：1000 ms  |  内存限制：65535 KB  |  难度：2

- 描述
    今盒子里有n个小球，A、B两人轮流从盒中取球，每个人都可以看到另一个人取了多少个，也可以看到盒中还剩下多少个，并且两人都很聪明，不会做出错误的判断。
<!-- more --> 
  我们约定：

   每个人从盒子中取出的球的数目必须是：1，3，7或者8个。

   轮到某一方取球时不能弃权！

   A先取球，然后双方交替取球，直到取完。

   被迫拿到最后一个球的一方为负方（输方）
   

请编程确定出在双方都不判断失误的情况下，对于特定的初始球数，A是否能赢？

- 输入
先是一个整数n(n<100)，表示接下来有n个整数。然后是n个整数，每个占一行（整数<10000），表示初始球数。

- 输出
程序则输出n行，表示A的输赢情况（输为0，赢为1）。

- 样例输入
4
1
2
10
18

- 样例输出
0
1
1
0

解题思路：

- 1.为设每次取球个数为ai（i<=4) a1 = 1, a2 = 3, a3 = 7, a4 = 8

- 2.球数为n，有玩家A，B，一开始A执先手， 这个游戏中执先手者A取ai个球之后，剩余球数变为n - ai(n - ai > 0);
此时的问题转化为：总球数为n - ai， B执先手的问题;
重复这个步骤，容易得到求解策略：即执先手者只需考虑执行一次取球操作后，在剩余n-ai个球的问题中如何让先手必败.

- 3.举个栗子：

 
>|球数|1 |2| 3| 4| 5| 6| 7| 8| 9| 10|
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
 |胜负| 0 | 1 | 0 | 1 | 0 | 1 | 0 | 1 | 1  | 1 |

>a.当球数为1，毫无疑问，先手必败；
 b.球数为2，此时执先手者考虑如何取一次球后，在2-ai个球的游戏里，先手必败; 不难看出，当i = 1， 2 - a1 = 1, 1的状态下先手必败，即先手取一个球必胜；
 c.球数为3，3-a1 == 2, 先手必胜；3 - a2 = 0, 不满足条件；因此在这一种情况下必败；
 

依次类推，可推理出球数为任意n的胜负情况......

 

递推关系： if (f(n-ai) == 0) f(n) = 1(i = 1, 2, 3, 4且n - ai  >  0); 

``` c++
#include<stdio.h>
int main() {
  int a[] = {0, 1, 3, 7, 8}, b[10010] = {0, 0};
  for (int i = 2; i <= 10010; i++) {
    b[i] = 0;
    for (int j = 1; j <= 4; j++) {
      if (b[i-a[j]] == 0 && i - a[j] > 0) {
        b[i] = 1;
        break;
      }
    }
  }
  int t, n;
  scanf("%d", &t);
  while (t--) {
    scanf("%d", &n);
    printf("%d\n", b[n]);
  }
}
```
